<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>pydeck</title>
        <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <script src='https://cdn.jsdelivr.net/npm/@deck.gl/jupyter-widget@~8.5.*/dist/index.js'></script>
    <style>
    body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#deck-map-container {
  width: 100%;
  height: 100%;
  background-color: black;
}

#map {
  pointer-events: none;
  height: 100%;
  width: 100%;
  position: absolute;
  z-index: 1;
}

#deckgl-overlay {
  z-index: 2;
  background: none;
}

#deck-map-wrapper {
  width: 100%;
  height: 100%;
}

#deck-container {
  width: 100vw;
  height: 100vh;
}
    </style>
  </head>
  <body>
    <div id="deck-container">
    </div>
  </body>
  <script>
    const jsonInput = {"initialViewState": {"bearing": 290, "latitude": 40.74, "longitude": -74, "pitch": 90, "zoom": 11.9}, "layers": [{"@@type": "ArcLayer", "autoHighlight": true, "data": [{"dock_id_give": 524, "dock_id_receive": 3164, "dock_name_give": "W 43 St & 6 Ave", "dock_name_receive": "Columbus Ave & W 72 St", "latitude_give": 40.75527307, "latitude_receive": 40.77705749649424, "longitude_give": -73.98316936, "longitude_receive": -73.9789847533657, "num_bikes": 10}, {"dock_id_give": 3457, "dock_id_receive": 3161, "dock_name_give": "E 58 St & Madison Ave", "dock_name_receive": "W 76 St & Columbus Ave", "latitude_give": 40.76302594280519, "latitude_receive": 40.7801839642592, "longitude_give": -73.97209525108337, "longitude_receive": -73.97728532355958, "num_bikes": 8}, {"dock_id_give": 456, "dock_id_receive": 3161, "dock_name_give": "E 53 St & Madison Ave", "dock_name_receive": "W 76 St & Columbus Ave", "latitude_give": 40.7597108, "latitude_receive": 40.7801839642592, "longitude_give": -73.97402311, "longitude_receive": -73.97728532355958, "num_bikes": 8}, {"dock_id_give": 3409, "dock_id_receive": 3365, "dock_name_give": "Bergen St & Smith St", "dock_name_receive": "3 St & 7 Ave", "latitude_give": 40.6867443, "latitude_receive": 40.6703837, "longitude_give": -73.99063168, "longitude_receive": -73.97839676, "num_bikes": 7}, {"dock_id_give": 3367, "dock_id_receive": 3295, "dock_name_give": "5 Ave & E 103 St", "dock_name_receive": "Central Park W & W 96 St", "latitude_give": 40.792255261303545, "latitude_receive": 40.79126999812638, "longitude_give": -73.95249934543389, "longitude_receive": -73.96483900111724, "num_bikes": 6}, {"dock_id_give": 3233, "dock_id_receive": 3167, "dock_name_give": "E 48 St & 5 Ave", "dock_name_receive": "Amsterdam Ave & W 73 St", "latitude_give": 40.757245685183776, "latitude_receive": 40.77966808755601, "longitude_give": -73.97805913430997, "longitude_receive": -73.98093044407285, "num_bikes": 6}, {"dock_id_give": 3092, "dock_id_receive": 3075, "dock_name_give": "Berry St & N 8 St", "dock_name_receive": "Division Ave & Marcy Ave", "latitude_give": 40.71900949977999, "latitude_receive": 40.70708701, "longitude_give": -73.95852516099721, "longitude_receive": -73.95796783, "num_bikes": 6}, {"dock_id_give": 3477, "dock_id_receive": 3310, "dock_name_give": "39 St & 2 Ave - Citi Bike HQ at Industry City", "dock_name_receive": "14 St & 7 Ave", "latitude_give": 40.65539977447831, "latitude_receive": 40.663779, "longitude_give": -74.01062786579134, "longitude_receive": -73.98396846, "num_bikes": 6}, {"dock_id_give": 168, "dock_id_receive": 448, "dock_name_give": "W 18 St & 6 Ave", "dock_name_receive": "W 37 St & 10 Ave", "latitude_give": 40.73971301, "latitude_receive": 40.756603608838965, "longitude_give": -73.99456405, "longitude_receive": -73.99790090133699, "num_bikes": 6}, {"dock_id_give": 3318, "dock_id_receive": 3295, "dock_name_give": "2 Ave & E 96 St", "dock_name_receive": "Central Park W & W 96 St", "latitude_give": 40.7839636, "latitude_receive": 40.79126999812638, "longitude_give": -73.9471673, "longitude_receive": -73.96483900111724, "num_bikes": 5}, {"dock_id_give": 3387, "dock_id_receive": 3140, "dock_name_give": "E 106 St & Madison Ave", "dock_name_receive": "1 Ave & E 78 St", "latitude_give": 40.7934337, "latitude_receive": 40.771404248005965, "longitude_give": -73.94945003, "longitude_receive": -73.95351659558764, "num_bikes": 5}, {"dock_id_give": 3258, "dock_id_receive": 3443, "dock_name_give": "W 27 St & 10 Ave", "dock_name_receive": "W 52 St & 6 Ave", "latitude_give": 40.75018156325683, "latitude_receive": 40.76132982786815, "longitude_give": -74.00218427181245, "longitude_receive": -73.97982001489072, "num_bikes": 5}, {"dock_id_give": 3373, "dock_id_receive": 3306, "dock_name_give": "3 St & 3 Ave", "dock_name_receive": "10 St & 7 Ave", "latitude_give": 40.6750705, "latitude_receive": 40.6662078, "longitude_give": -73.98775226, "longitude_receive": -73.98199886, "num_bikes": 5}, {"dock_id_give": 390, "dock_id_receive": 416, "dock_name_give": "Duffield St & Willoughby St", "dock_name_receive": "Cumberland St & Lafayette Ave", "latitude_give": 40.69221588786423, "latitude_receive": 40.68753406, "longitude_give": -73.9842843872936, "longitude_receive": -73.97265183, "num_bikes": 5}, {"dock_id_give": 337, "dock_id_receive": 3308, "dock_name_give": "Old Slip & Front St", "dock_name_receive": "Kane St & Clinton St", "latitude_give": 40.7037992, "latitude_receive": 40.6861758, "longitude_give": -74.00838676, "longitude_receive": -73.99645295, "num_bikes": 5}, {"dock_id_give": 3335, "dock_id_receive": 436, "dock_name_give": "Union St & 4 Ave", "dock_name_receive": "Hancock St & Bedford Ave", "latitude_give": 40.6772744, "latitude_receive": 40.68216564, "longitude_give": -73.98282002, "longitude_receive": -73.95399026, "num_bikes": 5}, {"dock_id_give": 2001, "dock_id_receive": 389, "dock_name_give": "Sands St & Navy St", "dock_name_receive": "Broadway & Berry St", "latitude_give": 40.69968874076661, "latitude_receive": 40.71044554, "longitude_give": -73.9792749324156, "longitude_receive": -73.96525063, "num_bikes": 5}, {"dock_id_give": 3132, "dock_id_receive": 3164, "dock_name_give": "E 59 St & Madison Ave", "dock_name_receive": "Columbus Ave & W 72 St", "latitude_give": 40.7635053236996, "latitude_receive": 40.77705749649424, "longitude_give": -73.97109242930873, "longitude_receive": -73.9789847533657, "num_bikes": 4}, {"dock_id_give": 3458, "dock_id_receive": 3140, "dock_name_give": "W 55 St & 6 Ave", "dock_name_receive": "1 Ave & E 78 St", "latitude_give": 40.76309387270797, "latitude_receive": 40.771404248005965, "longitude_give": -73.9783501625061, "longitude_receive": -73.95351659558764, "num_bikes": 4}, {"dock_id_give": 3459, "dock_id_receive": 3146, "dock_name_give": "E 53 St & 3 Ave", "dock_name_receive": "E 81 St & 3 Ave", "latitude_give": 40.75763227739442, "latitude_receive": 40.77573034, "longitude_give": -73.96930575370787, "longitude_receive": -73.9567526, "num_bikes": 4}, {"dock_id_give": 3136, "dock_id_receive": 3146, "dock_name_give": "5 Ave & E 63 St", "dock_name_receive": "E 81 St & 3 Ave", "latitude_give": 40.76638608305471, "latitude_receive": 40.77573034, "longitude_give": -73.97151242713488, "longitude_receive": -73.9567526, "num_bikes": 4}, {"dock_id_give": 3502, "dock_id_receive": 3294, "dock_name_give": "Lexington Ave & E 111 St", "dock_name_receive": "E 91 St & Park Ave", "latitude_give": 40.7954121, "latitude_receive": 40.7835016, "longitude_give": -73.9441232, "longitude_receive": -73.955327, "num_bikes": 4}, {"dock_id_give": 3093, "dock_id_receive": 3452, "dock_name_give": "N 6 St & Bedford Ave", "dock_name_receive": "Bayard St & Leonard St", "latitude_give": 40.717451682724366, "latitude_receive": 40.71915571298016, "longitude_give": -73.95850939245885, "longitude_receive": -73.94885393926462, "num_bikes": 4}, {"dock_id_give": 3096, "dock_id_receive": 3452, "dock_name_give": "Union Ave & N 12 St", "dock_name_receive": "Bayard St & Leonard St", "latitude_give": 40.71924, "latitude_receive": 40.71915571298016, "longitude_give": -73.95242, "longitude_receive": -73.94885393926462, "num_bikes": 4}, {"dock_id_give": 3399, "dock_id_receive": 3358, "dock_name_give": "7 St & 3 Ave", "dock_name_receive": "Garfield Pl & 8 Ave", "latitude_give": 40.67260298150126, "latitude_receive": 40.6711978, "longitude_give": -73.98983001708984, "longitude_receive": -73.97484126, "num_bikes": 4}, {"dock_id_give": 3324, "dock_id_receive": 3354, "dock_name_give": "3 Ave & 14 St", "dock_name_receive": "3 St & Prospect Park West", "latitude_give": 40.6685455, "latitude_receive": 40.66813199685157, "longitude_give": -73.99333264, "longitude_receive": -73.97363831862698, "num_bikes": 4}, {"dock_id_give": 3090, "dock_id_receive": 3077, "dock_name_give": "N 8 St & Driggs Ave", "dock_name_receive": "Stagg St & Union Ave", "latitude_give": 40.71774592, "latitude_receive": 40.70877085608638, "longitude_give": -73.95600096, "longitude_receive": -73.95095257753317, "num_bikes": 4}, {"dock_id_give": 3416, "dock_id_receive": 3044, "dock_name_give": "7 Ave & Park Pl", "dock_name_receive": "Albany Ave & Fulton St", "latitude_give": 40.67761468980208, "latitude_receive": 40.6800105, "longitude_give": -73.97324284256149, "longitude_receive": -73.938475, "num_bikes": 4}, {"dock_id_give": 337, "dock_id_receive": 3321, "dock_name_give": "Old Slip & Front St", "dock_name_receive": "Clinton St & Union St", "latitude_give": 40.7037992, "latitude_receive": 40.6831164, "longitude_give": -74.00838676, "longitude_receive": -73.99785267, "num_bikes": 4}, {"dock_id_give": 3123, "dock_id_receive": 3124, "dock_name_give": "31 St & Thomson Ave", "dock_name_receive": "46 Ave & 5 St", "latitude_give": 40.744697437987, "latitude_receive": 40.74731, "longitude_give": -73.93540373202681, "longitude_receive": -73.95451, "num_bikes": 4}, {"dock_id_give": 3463, "dock_id_receive": 3117, "dock_name_give": "E 16 St & Irving Pl", "dock_name_receive": "Franklin St & Dupont St", "latitude_give": 40.73536704543461, "latitude_receive": 40.73564001969587, "longitude_give": -73.98797393608542, "longitude_receive": -73.95866000492394, "num_bikes": 4}, {"dock_id_give": 3317, "dock_id_receive": 3396, "dock_name_give": "10 St & 5 Ave", "dock_name_receive": "Clinton St & 4 Place", "latitude_give": 40.6686273, "latitude_receive": 40.6783563, "longitude_give": -73.98700053, "longitude_receive": -74.00014502, "num_bikes": 4}, {"dock_id_give": 3296, "dock_id_receive": 3295, "dock_name_give": "E 93 St & 2 Ave", "dock_name_receive": "Central Park W & W 96 St", "latitude_give": 40.782454175279874, "latitude_receive": 40.79126999812638, "longitude_give": -73.9489196240902, "longitude_receive": -73.96483900111724, "num_bikes": 3}, {"dock_id_give": 3132, "dock_id_receive": 3140, "dock_name_give": "E 59 St & Madison Ave", "dock_name_receive": "1 Ave & E 78 St", "latitude_give": 40.7635053236996, "latitude_receive": 40.771404248005965, "longitude_give": -73.97109242930873, "longitude_receive": -73.95351659558764, "num_bikes": 3}, {"dock_id_give": 3379, "dock_id_receive": 3146, "dock_name_give": "E 103 St & Lexington Ave", "dock_name_receive": "E 81 St & 3 Ave", "latitude_give": 40.79030511452245, "latitude_receive": 40.77573034, "longitude_give": -73.94755755834753, "longitude_receive": -73.9567526, "num_bikes": 3}, {"dock_id_give": 3494, "dock_id_receive": 3294, "dock_name_give": "E 115 St & Lexington Ave", "dock_name_receive": "E 91 St & Park Ave", "latitude_give": 40.797911, "latitude_receive": 40.7835016, "longitude_give": -73.9423, "longitude_receive": -73.955327, "num_bikes": 3}, {"dock_id_give": 516, "dock_id_receive": 3135, "dock_name_give": "E 47 St & 1 Ave", "dock_name_receive": "E 75 St & 3 Ave", "latitude_give": 40.752068618918216, "latitude_receive": 40.77112927, "longitude_give": -73.96784384246185, "longitude_receive": -73.95772297, "num_bikes": 3}, {"dock_id_give": 2012, "dock_id_receive": 3443, "dock_name_give": "E 27 St & 1 Ave", "dock_name_receive": "W 52 St & 6 Ave", "latitude_give": 40.739445, "latitude_receive": 40.76132982786815, "longitude_give": -73.976806, "longitude_receive": -73.97982001489072, "num_bikes": 3}, {"dock_id_give": 267, "dock_id_receive": 454, "dock_name_give": "Broadway & W 36 St", "dock_name_receive": "E 51 St & 1 Ave", "latitude_give": 40.75097711464934, "latitude_receive": 40.75455731, "longitude_give": -73.9876542861167, "longitude_receive": -73.96592976, "num_bikes": 3}, {"dock_id_give": 3112, "dock_id_receive": 3449, "dock_name_give": "Milton St & Franklin St", "dock_name_receive": "Eckford St & Engert Ave", "latitude_give": 40.72905999282722, "latitude_receive": 40.72146256229816, "longitude_give": -73.95779000818777, "longitude_receive": -73.94800901412965, "num_bikes": 3}, {"dock_id_give": 3371, "dock_id_receive": 3423, "dock_name_give": "4 Ave & 2 St", "dock_name_receive": "West Drive & Prospect Park West", "latitude_give": 40.674613422475815, "latitude_receive": 40.66106337873646, "longitude_give": -73.98501142859459, "longitude_receive": -73.97945255440673, "num_bikes": 3}, {"dock_id_give": 243, "dock_id_receive": 365, "dock_name_give": "Fulton St & Rockwell Pl", "dock_name_receive": "Fulton St & Grand Ave", "latitude_give": 40.688208131116966, "latitude_receive": 40.68223166, "longitude_give": -73.97923011987052, "longitude_receive": -73.9614583, "num_bikes": 3}, {"dock_id_give": 325, "dock_id_receive": 469, "dock_name_give": "E 19 St & 3 Ave", "dock_name_receive": "Broadway & W 53 St", "latitude_give": 40.73624527, "latitude_receive": 40.76344058, "longitude_give": -73.98473765, "longitude_receive": -73.98268129, "num_bikes": 3}, {"dock_id_give": 414, "dock_id_receive": 421, "dock_name_give": "Pearl St & Anchorage Pl", "dock_name_receive": "Clermont Ave & Park Ave", "latitude_give": 40.70281858, "latitude_receive": 40.69573398, "longitude_give": -73.98765762, "longitude_receive": -73.97129668, "num_bikes": 3}, {"dock_id_give": 386, "dock_id_receive": 400, "dock_name_give": "Centre St & Worth St", "dock_name_receive": "Pitt St & Stanton St", "latitude_give": 40.71494807, "latitude_receive": 40.71926081, "longitude_give": -74.00234482, "longitude_receive": -73.98178024, "num_bikes": 3}, {"dock_id_give": 3404, "dock_id_receive": 397, "dock_name_give": "7 St & 5 Ave", "dock_name_receive": "Fulton St & Clermont Ave", "latitude_give": 40.6704922, "latitude_receive": 40.68415748, "longitude_give": -73.98541675, "longitude_receive": -73.96922273, "num_bikes": 3}, {"dock_id_give": 260, "dock_id_receive": 3315, "dock_name_give": "Broad St & Bridge St", "dock_name_receive": "Henry St & Degraw St", "latitude_give": 40.70365182347811, "latitude_receive": 40.6847514, "longitude_give": -74.0116779832063, "longitude_receive": -73.99917254, "num_bikes": 3}], "getSourceColor": [0, 255, 0, 150], "getSourcePosition": "@@=[longitude_give, latitude_give]", "getTargetColor": [240, 100, 0, 150], "getTargetPosition": "@@=[longitude_receive, latitude_receive]", "getTilt": 15, "getWidth": "@@=num_bikes", "id": "76ff8b23-618b-4b5d-9dc5-cf21b03300d6", "pickable": true}], "mapProvider": "carto", "mapStyle": "https://basemaps.cartocdn.com/gl/positron-gl-style/style.json", "views": [{"@@type": "MapView", "controller": true}]};
    const tooltip = {'html': '{num_bikes} bikes need rebalancing from<br />{dock_name_give} to {dock_name_receive}'};
    const customLibraries = null;

    const deckInstance = createDeck({
                  container: document.getElementById('deck-container'),
      jsonInput,
      tooltip,
      customLibraries
    });

  </script>
</html>